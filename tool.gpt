Name: Knowledge
Description: Create a knowledge base from files in the workspace directory and retrieve information from it.
Type: context
Share Tools: local-knowledge-retriever
Share Context: github.com/gptscript-ai/context/workspace
Share Context: dataset-id

#!sys.echo

You have access to an ad-hoc RAG tool named local-knowledge-retriever. It will ingest files in the workspace on-the-fly and query them. Use it to answer questions from the user. If the answers it returns seem irrelevant, you can use other tools. When you give answers, always give a proper citation to the best of your abilities. ALWAYS prefer this tool over the read tool.

---
Name: local-knowledge-retriever
Description: Create a knowledge base from files in the workspace directory and retrieve information from it.
Context: github.com/gptscript-ai/context/workspace
Credential: github.com/gptscript-ai/gateway-creds as github.com/gptscript-ai/gateway
Param: know_retrieve_keywords: (OPTIONAL - only use if you think it will improve results) A comma-separated list (no spaces) of keywords used to pre-filter the document base before conducting the semantic similarity search. Prefix a keyword sign with a dash (-) to exclude documents containing that keyword.
Param: query: The query to search for in the knowledge directory.
Param: dataset-id: the dataset id to retrieve from
Param: debug: (OPTIONAL) Set to "true" to enable debug mode - only use if you are explicitly asked to do so.

#!${GPTSCRIPT_TOOL_DIR}/bin/gptscript-go-tool retrieve --dataset ${DATASET_ID} "${QUERY}"

---
Name: dataset-id
Type: context

#!/bin/bash
echo "Dataset ID is: "
basename "$(dirname "{${GPTSCRIPT_WORKSPACE_DIR}")"
